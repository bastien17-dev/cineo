{"ast":null,"code":"var _jsxFileName = \"/Users/bastpaq/Documents/semaines-intensives/cineo/cineo/src/components/slider/slider.component.jsx\";\nimport React, { Component, createRef } from \"react\";\nimport { Waypoint } from \"react-waypoint\";\nimport Item from \"../item/item.component\";\nimport { ReactComponent as PrevArrow } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/prev-arrow.svg\";\nimport { ReactComponent as NextArrow } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/next-arrow.svg\";\nimport { SliderContextConsumer, SliderContextProvider } from \"./slider.context\";\nexport default class Slider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePrev = element => {\n      if (this.state.position <= 0) return;\n      let itemWidth = element.current.offsetWidth;\n      this.setState({ ...this.state,\n        position: this.state.position--\n      });\n      this.setState({ ...this.state,\n        offset: this.state.position * 5 >= 5 ? this.state.offset - (itemWidth + 2) * 5 : 0\n      });\n    };\n\n    this.handleNext = element => {\n      if (this.state.position >= this.state.nbViewports) return;\n      this.setState({ ...this.state,\n        position: this.state.position++\n      }, () => {});\n      let itemWidth = element.current.offsetWidth;\n      this.setState({ ...this.state,\n        offset: this.state.offset + (itemWidth + 2) * (this.state.nbItems - this.state.position * 5 >= 5 ? 5 : this.state.nbItems - this.state.position * 5)\n      });\n    };\n\n    this.state = {\n      position: 0,\n      offset: 0,\n      nbViewports: Math.ceil(this.props.data.length / 5),\n      nbItems: this.props.data.length,\n      visible: false\n    };\n    this.sliderRef = createRef();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(SliderContextProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SliderContextConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, ({\n      itemRef\n    }) => /*#__PURE__*/React.createElement(Waypoint, {\n      onEnter: () => {\n        this.setState({ ...this.state,\n          visible: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `slider-container ${this.props.large ? \"slider-large-container\" : \"\"} ${this.state.visible ? \"visible\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"slider-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.sliderRef,\n      className: \"slider\",\n      style: {\n        transform: `translateX(-${this.state.offset}px)`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, this.props.data.map(el => {\n      return /*#__PURE__*/React.createElement(Item, {\n        large: this.props.large,\n        title: el.title,\n        key: el.imdbID,\n        imdbID: el.imdbID,\n        coverUrl: el.coverUrl,\n        hoverCoverUrl: el.hoverCoverUrl,\n        genre: el.genre,\n        type: el.type,\n        seasons: el.seasons,\n        duration: el.duration,\n        posterUrl: el.posterUrl,\n        tagline: el.tagline,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      });\n    }))), this.state.position + 1 !== this.state.nbViewports && /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => {\n        this.handleNext(itemRef);\n      },\n      className: \"arrow-wrapper arrow-wrapper-next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NextArrow, {\n      className: \"arrow next-arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    })), this.state.position !== 0 && /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => {\n        this.handlePrev(itemRef);\n      },\n      className: \"arrow-wrapper arrow-wrapper-prev\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(PrevArrow, {\n      className: \"arrow prev-arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/bastpaq/Documents/semaines-intensives/cineo/cineo/src/components/slider/slider.component.jsx"],"names":["React","Component","createRef","Waypoint","Item","SliderContextConsumer","SliderContextProvider","Slider","constructor","props","handlePrev","element","state","position","itemWidth","current","offsetWidth","setState","offset","handleNext","nbViewports","nbItems","Math","ceil","data","length","visible","sliderRef","render","itemRef","large","transform","map","el","title","imdbID","coverUrl","hoverCoverUrl","genre","type","seasons","duration","posterUrl","tagline"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from \"react\";\nimport { Waypoint } from \"react-waypoint\";\n\nimport Item from \"../item/item.component\";\n\nimport { ReactComponent as PrevArrow } from \"../../assets/svg/prev-arrow.svg\";\nimport { ReactComponent as NextArrow } from \"../../assets/svg/next-arrow.svg\";\n\nimport { SliderContextConsumer, SliderContextProvider } from \"./slider.context\";\n\nexport default class Slider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      position: 0,\n      offset: 0,\n      nbViewports: Math.ceil(this.props.data.length / 5),\n      nbItems: this.props.data.length,\n      visible: false,\n    };\n    this.sliderRef = createRef();\n  }\n\n  handlePrev = (element) => {\n    if (this.state.position <= 0) return;\n    let itemWidth = element.current.offsetWidth;\n    this.setState({ ...this.state, position: this.state.position-- });\n    this.setState({\n      ...this.state,\n      offset:\n        this.state.position * 5 >= 5\n          ? this.state.offset - (itemWidth + 2) * 5\n          : 0,\n    });\n  };\n\n  handleNext = (element) => {\n    if (this.state.position >= this.state.nbViewports) return;\n    this.setState({ ...this.state, position: this.state.position++ }, () => {});\n    let itemWidth = element.current.offsetWidth;\n    this.setState({\n      ...this.state,\n      offset:\n        this.state.offset +\n        (itemWidth + 2) *\n          (this.state.nbItems - this.state.position * 5 >= 5\n            ? 5\n            : this.state.nbItems - this.state.position * 5),\n    });\n  };\n\n  render() {\n    return (\n      <SliderContextProvider>\n        <SliderContextConsumer>\n          {({ itemRef }) => (\n            <Waypoint\n              onEnter={() => {\n                this.setState({ ...this.state, visible: true });\n              }}\n            >\n              <div\n                className={`slider-container ${\n                  this.props.large ? \"slider-large-container\" : \"\"\n                } ${this.state.visible ? \"visible\" : \"\"}`}\n              >\n                <div className=\"slider-wrapper\">\n                  <div\n                    ref={this.sliderRef}\n                    className=\"slider\"\n                    style={{\n                      transform: `translateX(-${this.state.offset}px)`,\n                    }}\n                  >\n                    {this.props.data.map((el) => {\n                      return (\n                        <Item\n                          large={this.props.large}\n                          title={el.title}\n                          key={el.imdbID}\n                          imdbID={el.imdbID}\n                          coverUrl={el.coverUrl}\n                          hoverCoverUrl={el.hoverCoverUrl}\n                          genre={el.genre}\n                          type={el.type}\n                          seasons={el.seasons}\n                          duration={el.duration}\n                          posterUrl={el.posterUrl}\n                          tagline={el.tagline}\n                        />\n                      );\n                    })}\n                  </div>\n                </div>\n\n                {this.state.position + 1 !== this.state.nbViewports && (\n                  <div\n                    onClick={() => {\n                      this.handleNext(itemRef);\n                    }}\n                    className=\"arrow-wrapper arrow-wrapper-next\"\n                  >\n                    <NextArrow className=\"arrow next-arrow\" />\n                  </div>\n                )}\n\n                {this.state.position !== 0 && (\n                  <div\n                    onClick={() => {\n                      this.handlePrev(itemRef);\n                    }}\n                    className=\"arrow-wrapper arrow-wrapper-prev\"\n                  >\n                    <PrevArrow className=\"arrow prev-arrow\" />\n                  </div>\n                )}\n              </div>\n            </Waypoint>\n          )}\n        </SliderContextConsumer>\n      </SliderContextProvider>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}