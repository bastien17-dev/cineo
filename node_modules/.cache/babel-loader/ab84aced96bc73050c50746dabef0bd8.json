{"ast":null,"code":"var _jsxFileName = \"/Users/bastpaq/Documents/student_projects/semaines-intensives/cineo-bast/cineo/src/components/player/contoller/buttons/volume/volume.component.jsx\";\nimport React from 'react';\nimport { PlayerContextConsumer } from '../../../player.context';\nimport { createRef } from 'react';\nexport default class Volume extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.muteVolume = video => {\n      let videoElt = video.current;\n      let volumeControlerElt = this.volumeControlerRef.current;\n\n      if (this.state.previousVolume === 0) {\n        videoElt.volume = 0.5;\n        volumeControlerElt.value = 0.5;\n      } else if (videoElt.volume > 0) {\n        videoElt.volume = 0;\n        volumeControlerElt.value = 0;\n      } else {\n        videoElt.volume = this.state.previousVolume;\n        volumeControlerElt.value = this.state.previousVolume;\n      }\n\n      this.state.isMuted ? this.setState({\n        isMuted: false\n      }) : this.setState({\n        isMuted: true\n      });\n    };\n\n    this.clickOnVolumeController = video => {\n      let videoElt = video.current;\n      let volumeControlerElt = this.volumeControlerRef.current;\n      videoElt.volume = volumeControlerElt.value;\n\n      if (videoElt.volume === 0) {\n        this.setState({\n          isMuted: true\n        });\n      } else {\n        this.setState({\n          isMuted: false\n        });\n      }\n\n      this.setState({\n        previousVolume: videoElt.volume\n      });\n    };\n\n    this.state = {\n      isMuted: false,\n      previousVolume: 1\n    };\n    this.volumeControlerRef = createRef();\n  }\n\n  render() {\n    const {\n      isMuted\n    } = this.state;\n    return /*#__PURE__*/React.createElement(PlayerContextConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, ({\n      videoRef\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"controler__volume volume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: `volume__mute ${isMuted ? 'is-muted' : ''}`,\n      title: \"mute\",\n      onClick: () => this.muteVolume(videoRef),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      viewBox: \"0 0 25 20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      d: \"M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm13.517 4.134l-1.416-1.416A8.978 8.978 0 0 0 21 12a8.982 8.982 0 0 0-3.304-6.968l1.42-1.42A10.976 10.976 0 0 1 23 12c0 3.223-1.386 6.122-3.594 8.134zm-3.543-3.543l-1.422-1.422A3.993 3.993 0 0 0 16 12c0-1.43-.75-2.685-1.88-3.392l1.439-1.439A5.991 5.991 0 0 1 18 12c0 1.842-.83 3.49-2.137 4.591z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"volume__controller\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"1\",\n      step: \"0.01\",\n      ref: this.volumeControlerRef,\n      onClick: () => this.clickOnVolumeController(videoRef),\n      onMouseMove: () => this.clickOnVolumeController(videoRef),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/bastpaq/Documents/student_projects/semaines-intensives/cineo-bast/cineo/src/components/player/contoller/buttons/volume/volume.component.jsx"],"names":["React","PlayerContextConsumer","createRef","Volume","Component","constructor","props","muteVolume","video","videoElt","current","volumeControlerElt","volumeControlerRef","state","previousVolume","volume","value","isMuted","setState","clickOnVolumeController","render","videoRef"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { PlayerContextConsumer } from '../../../player.context';\nimport { createRef } from 'react';\n\nexport default class Volume extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMuted: false,\n      previousVolume: 1,\n    };\n    this.volumeControlerRef = createRef();\n  }\n\n  muteVolume = (video) => {\n    let videoElt = video.current;\n    let volumeControlerElt = this.volumeControlerRef.current;\n    if (this.state.previousVolume === 0) {\n      videoElt.volume = 0.5;\n      volumeControlerElt.value = 0.5;\n    } else if (videoElt.volume > 0) {\n      videoElt.volume = 0;\n      volumeControlerElt.value = 0;\n    } else {\n      videoElt.volume = this.state.previousVolume;\n      volumeControlerElt.value = this.state.previousVolume;\n    }\n    this.state.isMuted\n      ? this.setState({ isMuted: false })\n      : this.setState({ isMuted: true });\n  };\n\n  clickOnVolumeController = (video) => {\n    let videoElt = video.current;\n    let volumeControlerElt = this.volumeControlerRef.current;\n    videoElt.volume = volumeControlerElt.value;\n    if (videoElt.volume === 0) {\n      this.setState({ isMuted: true });\n    } else {\n      this.setState({ isMuted: false });\n    }\n    this.setState({ previousVolume: videoElt.volume });\n  };\n\n  render() {\n    const { isMuted } = this.state;\n    return (\n      <PlayerContextConsumer>\n        {({ videoRef }) => (\n          <div className='controler__volume volume'>\n            <button\n              className={`volume__mute ${isMuted ? 'is-muted' : ''}`}\n              title='mute'\n              onClick={() => this.muteVolume(videoRef)}\n            >\n              <svg viewBox='0 0 25 20'>\n                <path\n                  xmlns='http://www.w3.org/2000/svg'\n                  d='M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm13.517 4.134l-1.416-1.416A8.978 8.978 0 0 0 21 12a8.982 8.982 0 0 0-3.304-6.968l1.42-1.42A10.976 10.976 0 0 1 23 12c0 3.223-1.386 6.122-3.594 8.134zm-3.543-3.543l-1.422-1.422A3.993 3.993 0 0 0 16 12c0-1.43-.75-2.685-1.88-3.392l1.439-1.439A5.991 5.991 0 0 1 18 12c0 1.842-.83 3.49-2.137 4.591z'\n                />\n              </svg>\n            </button>\n            <div className='volume__controller'>\n              <input\n                type='range'\n                min='0'\n                max='1'\n                step='0.01'\n                ref={this.volumeControlerRef}\n                onClick={() => this.clickOnVolumeController(videoRef)}\n                onMouseMove={() => this.clickOnVolumeController(videoRef)}\n              />\n            </div>\n          </div>\n        )}\n      </PlayerContextConsumer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}