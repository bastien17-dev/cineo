{"ast":null,"code":"var _jsxFileName = \"/Users/bastpaq/Documents/semaines-intensives/cineo/cineo/src/components/player/player.context.jsx\";\nimport React, { createContext, Component, createRef } from 'react';\nconst PlayerContext = createContext({});\nlet disapear;\nexport class PlayerContextProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.play = () => {\n      this.videoRef.current.play();\n      this.setState({\n        isPlaying: true\n      });\n    };\n\n    this.pause = () => {\n      this.videoRef.current.pause();\n      this.setState({\n        isPlaying: false\n      });\n    };\n\n    this.mouseMove = () => {\n      clearTimeout(disapear);\n      this.setState({\n        isContolerVisible: true\n      });\n      disapear = setTimeout(() => {\n        this.setState({\n          isContolerVisible: false\n        });\n      }, 6000);\n    };\n\n    this.videoCurrentTime = () => {\n      this.setState({\n        currentTime: this.videoRef.current.currentTime\n      });\n    };\n\n    this.isFullScreen = bool => {\n      this.setState({\n        isVideoFullScreen: bool\n      });\n    };\n\n    this.state = {\n      src: '',\n      isPlaying: false,\n      currentTime: 0,\n      isContolerVisible: false,\n      isVideoFullScreen: false\n    };\n    this.videoContainerRef = createRef();\n    this.videoRef = createRef();\n    this.playerRef = createRef();\n    this.controlerRef = createRef();\n    this.exitRef = createRef();\n  }\n\n  render() {\n    const value = { ...this.state,\n      videoContainerRef: this.videoContainerRef,\n      videoRef: this.videoRef,\n      playerRef: this.playerRef,\n      controlerRef: this.controlerRef,\n      exitRef: this.exitRef,\n      play: this.play,\n      pause: this.pause,\n      isPlayerFullScreen: this.isFullScreen,\n      mouseMove: this.mouseMove,\n      videoCurrentTime: this.videoCurrentTime\n    };\n    return /*#__PURE__*/React.createElement(PlayerContext.Provider, {\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\nexport const PlayerContextConsumer = PlayerContext.Consumer;","map":{"version":3,"sources":["/Users/bastpaq/Documents/semaines-intensives/cineo/cineo/src/components/player/player.context.jsx"],"names":["React","createContext","Component","createRef","PlayerContext","disapear","PlayerContextProvider","constructor","props","play","videoRef","current","setState","isPlaying","pause","mouseMove","clearTimeout","isContolerVisible","setTimeout","videoCurrentTime","currentTime","isFullScreen","bool","isVideoFullScreen","state","src","videoContainerRef","playerRef","controlerRef","exitRef","render","value","isPlayerFullScreen","children","PlayerContextConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,SAA1C,QAA2D,OAA3D;AAEA,MAAMC,aAAa,GAAGH,aAAa,CAAC,EAAD,CAAnC;AAEA,IAAII,QAAJ;AAEA,OAAO,MAAMC,qBAAN,SAAoCJ,SAApC,CAA8C;AACnDK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAgBnBC,IAhBmB,GAgBZ,MAAM;AACX,WAAKC,QAAL,CAAcC,OAAd,CAAsBF,IAAtB;AACA,WAAKG,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAnBkB;;AAAA,SAqBnBC,KArBmB,GAqBX,MAAM;AACZ,WAAKJ,QAAL,CAAcC,OAAd,CAAsBG,KAAtB;AACA,WAAKF,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAxBkB;;AAAA,SA0BnBE,SA1BmB,GA0BP,MAAM;AAChBC,MAAAA,YAAY,CAACX,QAAD,CAAZ;AACA,WAAKO,QAAL,CAAc;AAAEK,QAAAA,iBAAiB,EAAE;AAArB,OAAd;AACAZ,MAAAA,QAAQ,GAAGa,UAAU,CAAC,MAAM;AAC1B,aAAKN,QAAL,CAAc;AAAEK,UAAAA,iBAAiB,EAAE;AAArB,SAAd;AACD,OAFoB,EAElB,IAFkB,CAArB;AAGD,KAhCkB;;AAAA,SAkCnBE,gBAlCmB,GAkCA,MAAM;AACvB,WAAKP,QAAL,CAAc;AAAEQ,QAAAA,WAAW,EAAE,KAAKV,QAAL,CAAcC,OAAd,CAAsBS;AAArC,OAAd;AACD,KApCkB;;AAAA,SAsCnBC,YAtCmB,GAsCHC,IAAD,IAAU;AACvB,WAAKV,QAAL,CAAc;AAAEW,QAAAA,iBAAiB,EAAED;AAArB,OAAd;AACD,KAxCkB;;AAEjB,SAAKE,KAAL,GAAa;AACXC,MAAAA,GAAG,EAAE,EADM;AAEXZ,MAAAA,SAAS,EAAE,KAFA;AAGXO,MAAAA,WAAW,EAAE,CAHF;AAIXH,MAAAA,iBAAiB,EAAE,KAJR;AAKXM,MAAAA,iBAAiB,EAAE;AALR,KAAb;AAOA,SAAKG,iBAAL,GAAyBvB,SAAS,EAAlC;AACA,SAAKO,QAAL,GAAgBP,SAAS,EAAzB;AACA,SAAKwB,SAAL,GAAiBxB,SAAS,EAA1B;AACA,SAAKyB,YAAL,GAAoBzB,SAAS,EAA7B;AACA,SAAK0B,OAAL,GAAe1B,SAAS,EAAxB;AACD;;AA4BD2B,EAAAA,MAAM,GAAG;AACP,UAAMC,KAAK,GAAG,EACZ,GAAG,KAAKP,KADI;AAEZE,MAAAA,iBAAiB,EAAE,KAAKA,iBAFZ;AAGZhB,MAAAA,QAAQ,EAAE,KAAKA,QAHH;AAIZiB,MAAAA,SAAS,EAAE,KAAKA,SAJJ;AAKZC,MAAAA,YAAY,EAAE,KAAKA,YALP;AAMZC,MAAAA,OAAO,EAAE,KAAKA,OANF;AAOZpB,MAAAA,IAAI,EAAE,KAAKA,IAPC;AAQZK,MAAAA,KAAK,EAAE,KAAKA,KARA;AASZkB,MAAAA,kBAAkB,EAAE,KAAKX,YATb;AAUZN,MAAAA,SAAS,EAAE,KAAKA,SAVJ;AAWZI,MAAAA,gBAAgB,EAAE,KAAKA;AAXX,KAAd;AAaA,wBACE,oBAAC,aAAD,CAAe,QAAf;AAAwB,MAAA,KAAK,EAAEY,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKvB,KAAL,CAAWyB,QADd,CADF;AAKD;;AA9DkD;AAiErD,OAAO,MAAMC,qBAAqB,GAAG9B,aAAa,CAAC+B,QAA5C","sourcesContent":["import React, { createContext, Component, createRef } from 'react';\n\nconst PlayerContext = createContext({});\n\nlet disapear;\n\nexport class PlayerContextProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      src: '',\n      isPlaying: false,\n      currentTime: 0,\n      isContolerVisible: false,\n      isVideoFullScreen: false,\n    };\n    this.videoContainerRef = createRef();\n    this.videoRef = createRef();\n    this.playerRef = createRef();\n    this.controlerRef = createRef();\n    this.exitRef = createRef();\n  }\n\n  play = () => {\n    this.videoRef.current.play();\n    this.setState({ isPlaying: true });\n  };\n\n  pause = () => {\n    this.videoRef.current.pause();\n    this.setState({ isPlaying: false });\n  };\n\n  mouseMove = () => {\n    clearTimeout(disapear);\n    this.setState({ isContolerVisible: true });\n    disapear = setTimeout(() => {\n      this.setState({ isContolerVisible: false });\n    }, 6000);\n  };\n\n  videoCurrentTime = () => {\n    this.setState({ currentTime: this.videoRef.current.currentTime });\n  };\n\n  isFullScreen = (bool) => {\n    this.setState({ isVideoFullScreen: bool });\n  };\n\n  render() {\n    const value = {\n      ...this.state,\n      videoContainerRef: this.videoContainerRef,\n      videoRef: this.videoRef,\n      playerRef: this.playerRef,\n      controlerRef: this.controlerRef,\n      exitRef: this.exitRef,\n      play: this.play,\n      pause: this.pause,\n      isPlayerFullScreen: this.isFullScreen,\n      mouseMove: this.mouseMove,\n      videoCurrentTime: this.videoCurrentTime,\n    };\n    return (\n      <PlayerContext.Provider value={value}>\n        {this.props.children}\n      </PlayerContext.Provider>\n    );\n  }\n}\n\nexport const PlayerContextConsumer = PlayerContext.Consumer;\n"]},"metadata":{},"sourceType":"module"}